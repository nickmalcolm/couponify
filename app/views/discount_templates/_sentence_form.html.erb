<% if @discount_template.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(@discount_template.errors.count, "error") %> prohibited this discount_template from being saved:</h2>

    <ul>
    <% @discount_template.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
<% end %>

<%= form_for @discount_template do |f| %>
  Between <a id="starts_at">now</a>
  <%= f.text_field :starts_at, :class=>"hide_me"%>

  and <a id="ends_at">forever</a>,
  <%= f.text_field :ends_at, :class=>"hide_me"%>
   send <a id="all">repeat customers</a>
  <span id="define_customers" class="hide_me">
    <select id="discount_template_customer_criteria" name="discount_template[customer_criteria]">
      <option value="all">all</option>
      <option value="new">new</option>
      <option value="repeat" selected>repeat</option>
    </select>
    customers 

    who place <a id="no_limit">any order</a>
    <span id="limit" class="hide_me">
      orders worth <%= f.text_field :minimum_order_amount, :size=>"7" %>USD or more
    </span>
  </span>

  a <%= f.text_field :value, :size=>"7" %><select id="discount_template_discount_type" name="discount_template[discount_type]">
    <option value="fixed_amount"><%= current_shop.currency %></option>
    <option value="percentage">%</option> 
  </select> discount code. This code can be used 
  
  <a id="anytime">anytime</a>
  <span id="valid_time" class="hide_me">
    between <a id="order_after">now</a>
    
    <%= f.text_field :order_placed_before, :class=>"hide_me" %>
    <%= f.text_field :order_placed_after, :class=>"hide_me" %>

    and <a id="order_before">forever</a>
    
  </span>
  
  on <a id="usage">one</a>
  <%= f.text_field :usage_limit, :class=>"hide_me", :size=>"3" %> order<span id="s" class="hide_me">s</span>.
  
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>

<%= javascript_include_tag "discount_template_form" %>